<!DOCTYPE html>
<html>
    <head>
        <title>ISO 8601 TimeRangeParser Tests</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <b>ISO8601 Time Range Parser</b>.  See <a href="http://wikipedia.org/wiki/ISO_8601#Time_intervals">http://wikipedia.org/wiki/ISO_8601#Time_intervals</a>
        <script type="text/javascript" src="TimeRangeParser.js"></script>
        <br/>
		<hr>
                Test001:
                <br/>
                <input id="test001in" style="width:30em"type="text" value="2014-01-12T03:07:09.200/2015-02-12T03:04"></input><input type="button" id="test001go" class="try" value="Go">
		<br/>
		output:
		<br/>
		<input id="test001out" style="width:30em"type="text"></input>
                <input id="test001formt" style="width:30em"type="text"></input>
                
                <hr>
		Test002:
		<br/>
		<input id="test002in" style="width:30em"type="text" value="2014-01-12T03:07/P1D"></input><input id="test002go" type="button" class="try" value="Go">
		<br/>
		output:
		<br/>
		<input id="test002out" style="width:30em"type="text"></input>
                <input id="test002formt" style="width:30em"type="text"></input>
                
                <hr>
		Test003:
		<br/>
		<input id="test003in" style="width:30em"type="text" value="2014-01-12T03:07/P1DT12H"></input><input id="test003go" type="button" class="try" value="Go">
		<br/>
		output:
		<br/>
		<input id="test003out" style="width:30em"type="text"></input>
                <input id="test003formt" style="width:30em"type="text"></input>

                <hr>
		Test004:
		<br/>
		<input id="test004in" style="width:30em"type="text" value="P1Y2M10DT2H30M/2008-05-11T15:30:00Z"></input><input id="test004go" type="button" class="try" value="Go">
		<br/>
		output:
		<br/>
		<input id="test004out" style="width:30em"type="text"></input>
                <input id="test004formt" style="width:30em"type="text"></input>
                
                <hr>
		Test005:
		<br/>
		<input id="test005in" style="width:30em"type="text" value="2014-01-12T03:07/06:09"></input><input id="test005go" type="button" class="try" value="Go">
		<br/>
		output:
		<br/>
		<input id="test005out" style="width:30em"type="text"></input>
                <input id="test005formt" style="width:30em"type="text"></input>
                
        <script type="text/javascript">
                        
            function runTest( inputtxt ) {
                return parseISO8601Range(inputtxt);
            }
            
            function testFormat( arr, format ) {
                tst= runTest( format );
                soundAlert= false;
                for ( i=0; i<14; i++ ) {
                    if ( tst[i]!==arr[i] ) {
                        soundAlert= true;
                    }
                }
                if ( soundAlert ) {
                    alert("here "+tst + " " + arr);
                } else {
                    alert("ok");
                }
            }
            
            //TODO: Generate the GUI in javascript so this can be done consistently.
            //TODO: There should be expected values hard-coded, with alerts when they are not met.
            
            $("#test001out").val( runTest($("#test001in").val() ) );
            $("#test001formt").val( formatISO8601Range( runTest($("#test001in").val() ) ) );
            //testFormat( $("#test002out").val(), $("#test002formt").val() );
            
            $("#test002out").val( runTest($("#test002in").val() ) );
            $("#test002formt").val( formatISO8601Range( runTest($("#test002in").val() ) ) );
            //testFormat( $("#test002out").val(), $("#test002formt").val() );
            
            $("#test003out").val( runTest($("#test003in").val() ) );
            $("#test003formt").val( formatISO8601Range( runTest($("#test003in").val() ) ) );
            $("#test004out").val( runTest($("#test004in").val() ) );
            $("#test004formt").val( formatISO8601Range( runTest($("#test004in").val() ) ) );
            $("#test005out").val( runTest($("#test005in").val() ) );
            $("#test005formt").val( formatISO8601Range( runTest($("#test005in").val() ) ) );
            
            $('#test001go').click( function () {
				$("#test001out").val( runTest($("#test001in").val() ) );
                                $("#test001formt").val( formatISO8601Range( runTest($("#test001in").val() ) ) );
                            } );
            $('#test002go').click( function () {
				$("#test002out").val( runTest($("#test002in").val() ) );
                                $("#test002formt").val( formatISO8601Range( runTest($("#test002in").val() ) ) );
                            } );
            $('#test003go').click( function () {
				$("#test003out").val( runTest($("#test003in").val() ) );
                                $("#test003formt").val( formatISO8601Range( runTest($("#test003in").val() ) ) );
                            } );
            $('#test004go').click( function () {
				$("#test004out").val( runTest($("#test004in").val() ) );
                                $("#test004formt").val( formatISO8601Range( runTest($("#test004in").val() ) ) );
                            } );
            $('#test005go').click( function () {
				$("#test005out").val( runTest($("#test005in").val() ) );
                                $("#test005formt").val( formatISO8601Range( runTest($("#test005in").val() ) ) );
                            } );
            
        </script>
        
    </body>
</html>
